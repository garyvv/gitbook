# vim 快捷键
[1\. Vim的几种模式]
--------------------------------------------------------------------------------------

*   正常模式：可以使用快捷键命令，或按:输入命令行。
*   插入模式：可以输入文本，在正常模式下，按i、a、o等都可以进入插入模式。
*   可视模式：正常模式下按v可以进入可视模式， 在可视模式下，移动光标可以选择文本。按V进入可视行模式， 总是整行整行的选中。ctrl+v进入可视块模式。
*   替换模式：正常模式下，按R进入。


[2\. 文档操作]
--------------------------------------------------------------------------------------

- :e file --关闭当前编辑的文件，并开启新的文件。
- :e+ file -- 开始新的文件，并从文件尾开始编辑。
- :e#或ctrl+^ -- 回到刚才编辑的文件，很实用。
- gf -- 打开以光标所在字符串为文件名的文件。
- Sex -- 水平分割一个窗口，浏览文件系统；
- Vex -- 垂直分割一个窗口，浏览文件系统；

[3\. 光标的移动]
--------------------------------------------------------------------------------------

> 基本移动

- h或退格: 左移一个字符；
- l或空格: 右移一个字符；
- j: 下移一行；
- k: 上移一行；
- w: 前移一个单词，光标停在下一个单词开头；
- b: 后移一个单词，光标停在上一个单词开头；
- fc: 把光标移到同一行的下一个c字符处

----
> 翻屏

*   ctrl+f: 下翻一屏。
*   ctrl+b: 上翻一屏。
*   ctrl+d: 下翻半屏。
*   ctrl+u: 上翻半屏。
*   ctrl+e: 向下滚动一行。
*   ctrl+y: 向上滚动一行。
*   n%: 到文件n%的位置。
*   zz: 将当前行移动到屏幕中央。
*   zt: 将当前行移动到屏幕顶端。
*   zb: 将当前行移动到屏幕底端。

[4\. 插入文本]
--------------------------------------------------------------------------------------
> 基本插入

*   i: 在光标前插入；一个小技巧：按8，再按i，进入插入模式，输入=， 按esc进入命令模式，就会出现8个=。 这在插入分割线时非常有用，如30i+<esc>就插入了36个+组成的分割线。
*   I: 在当前行第一个非空字符前插入；
*   gI: 在当前行第一列插入；
*   a: 在光标后插入；
*   A: 在当前行最后插入；
*   o: 在下面新建一行插入；
*   O: 在上面新建一行插入；
*   :r filename在当前位置插入另一个文件的内容。
*   :\[n\]r filename在第n行插入另一个文件的内容。
*   :r !date 在光标处插入当前日期与时间。同理，:r !command可以将其它shell命令的输出插入当前文档。

[5\. 查找]
--------------------------------------------------------------------------------------
*   /something: 在后面的文本中查找something。
*   ?something: 在前面的文本中查找something。
*   /pattern/+number: 将光标停在包含pattern的行后面第number行上。
*   /pattern/-number: 将光标停在包含pattern的行前面第number行上。
*   n: 向后查找下一个。
*   N: 向前查找下一个。

[6\. 替换]
--------------------------------------------------------------------------------------
*   :s/old/new - 用new替换当前行第一个old。
*   :s/old/new/g - 用new替换当前行所有的old。
*   :n1,n2s/old/new/g - 用new替换文件n1行到n2行所有的old。
*   :%s/old/new/g - 用new替换文件中所有的old。
*   :%s/^/xxx/g - 在每一行的行首插入xxx，^表示行首。
*   :%s/$/xxx/g - 在每一行的行尾插入xxx，$表示行尾。
*   所有替换命令末尾加上c，每个替换都将需要用户确认。 如：%s/old/new/gc，加上i则忽略大小写(ignore)。

[7\. 一些按键]
--------------------------------------------------------------------------------------
*   gd: 跳转到局部变量的定义处；
*   gD: 跳转到全局变量的定义处，从当前文件开头开始搜索；
*   g;: 上一个修改过的地方；
*   g,: 下一个修改过的地方；
*   \[\[: 跳转到上一个函数块开始，需要有单独一行的{。
*   \]\]: 跳转到下一个函数块开始，需要有单独一行的{。
*   \[\]: 跳转到上一个函数块结束，需要有单独一行的}。
*   \]\[: 跳转到下一个函数块结束，需要有单独一行的}。
*   \[{: 跳转到当前块开始处；
*   \]}: 跳转到当前块结束处；
*   \[/: 跳转到当前注释块开始处；
*   \]/: 跳转到当前注释块结束处；
*   %: 不仅能移动到匹配的(),{}或\[\]上，而且能在#if，#else， #endif之间跳跃。

> 下面的括号匹配对编程很实用的。

*   ci', di', yi'：修改、剪切或复制'之间的内容。
*   ca', da', ya'：修改、剪切或复制'之间的内容，包含'。
*   ci", di", yi"：修改、剪切或复制"之间的内容。
*   ca", da", ya"：修改、剪切或复制"之间的内容，包含"。
*   ci(, di(, yi(：修改、剪切或复制()之间的内容。
*   ca(, da(, ya(：修改、剪切或复制()之间的内容，包含()。
*   ci\[, di\[, yi\[：修改、剪切或复制\[\]之间的内容。
*   ca\[, da\[, ya\[：修改、剪切或复制\[\]之间的内容，包含\[\]。
*   ci{, di{, yi{：修改、剪切或复制{}之间的内容。
*   ca{, da{, ya{：修改、剪切或复制{}之间的内容，包含{}。
*   ci<, di<, yi<：修改、剪切或复制<>之间的内容。
*   ca<, da<, ya<：修改、剪切或复制<>之间的内容，包含<>。

[8\. 执行外部命令]
--------------------------------------------------------------------------------------
*   :! cmd 执行外部命令。
*   :!! 执行上一次的外部命令。
*   :sh 调用shell，用exit返回vim。
*   :r !cmd 将命令的返回结果插入文件当前位置。
*   :m,nw !cmd 将文件的m行到n行之间的内容做为命令输入执行命令。


